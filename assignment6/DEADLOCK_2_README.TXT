Test 2 rapidly toggles the IOCTL mode between 1 and 2.  
This causes a deadlock state when the IOCTL command is awaiting the resource that will never release